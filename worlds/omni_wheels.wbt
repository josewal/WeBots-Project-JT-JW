#VRML_SIM R2020b utf8
WorldInfo {
  info [
    "Thanks to Mehdi Ghanavati, Shahid Chamran University"
  ]
  title "Omni-wheels"
  basicTimeStep 8
  coordinateSystem "NUE"
  contactProperties [
    ContactProperties {
      softCFM 0.0001
    }
  ]
}
Viewpoint {
  orientation -0.18396021360711717 -0.9748767939311043 -0.12559409406590377 1.2218793401629258
  position -0.20569189937316093 0.5954686196468888 -2.3887158563552267
  follow "robot"
  followType "Mounted Shot"
}
TexturedBackground {
}
TexturedBackgroundLight {
}
RectangleArena {
  translation 0.01 0 -3.67318e-08
  rotation 0 1 0 1.5708
  floorSize 10 10
  floorTileSize 10 10
  floorAppearance Appearance {
    texture ImageTexture {
      url [
        "C:/Users/josef/OneDrive/Desktop/VUT/Mechatronika 2020,21/1PA/WeBots GIT/WeBots-Project-JT-JW/line map 1.jpg"
      ]
    }
  }
}
Robot {
  translation 0.85 0.27 -2.83
  rotation 1 0 0 -1.5707953071795862
  children [
    Camera {
      translation 3.74316e-08 -0.05 0.05
      rotation 3.4667507478126767e-07 -0.5000021078554363 -0.8660241868100456 -3.1415853071795863
      children [
        Shape {
          appearance PBRAppearance {
            baseColor 0 0 0
          }
          geometry Box {
            size 0.025 0.025 0.025
          }
        }
      ]
    }
    Accelerometer {
      translation 0 0 0.0909
    }
    DEF MOMENT_WHEEL HingeJoint {
      jointParameters HingeJointParameters {
        axis 0 0 1
        anchor 0 0 0.11
      }
      device [
        RotationalMotor {
          name "yaw motor"
          maxVelocity 1000
          maxTorque 100
        }
      ]
      endPoint Solid {
        translation 0 0 0.11
        rotation 1 7.359794883074545e-17 5.299052315813674e-16 1.5708
        children [
          Solid {
            translation 0.11 0 0
            children [
              Shape {
                appearance BrushedSteel {
                }
                geometry DEF small_weight_geom Cylinder {
                  height 0.025
                  radius 0.01
                }
              }
            ]
            boundingObject USE small_weight_geom
            physics Physics {
              density -1
              mass 5
              centerOfMass [
                0 0 0
              ]
              inertiaMatrix [
                6.054110842855331e-07 3.926990816987242e-07 6.054110842855331e-07
                0 0 0
              ]
            }
          }
          Solid {
            translation -0.11 0 0
            children [
              Shape {
                appearance BrushedSteel {
                }
                geometry DEF small_weight_geom Cylinder {
                  height 0.025
                  radius 0.01
                }
              }
            ]
            name "solid(1)"
            boundingObject USE small_weight_geom
            physics Physics {
              density -1
              mass 5
              centerOfMass [
                0 0 0
              ]
              inertiaMatrix [
                6.054110842855331e-07 3.926990816987242e-07 6.054110842855331e-07
                0 0 0
              ]
            }
          }
          Solid {
            translation 0 0 0.11
            children [
              Shape {
                appearance BrushedSteel {
                }
                geometry DEF small_weight_geom Cylinder {
                  height 0.025
                  radius 0.01
                }
              }
            ]
            name "solid(2)"
            boundingObject USE small_weight_geom
            physics Physics {
              density -1
              mass 5
              centerOfMass [
                0 0 0
              ]
              inertiaMatrix [
                6.054110842855331e-07 3.926990816987242e-07 6.054110842855331e-07
                0 0 0
              ]
            }
          }
          Solid {
            translation 0 0 -0.11
            children [
              Shape {
                appearance BrushedSteel {
                }
                geometry DEF small_weight_geom Cylinder {
                  height 0.025
                  radius 0.01
                }
              }
            ]
            name "solid(3)"
            boundingObject USE small_weight_geom
            physics Physics {
              density -1
              mass 5
              centerOfMass [
                0 0 0
              ]
              inertiaMatrix [
                6.054110842855331e-07 3.926990816987242e-07 6.054110842855331e-07
                0 0 0
              ]
            }
          }
          Shape {
            appearance ScrewThread {
            }
            geometry DEF flywheel_geom Cylinder {
              height 0.01
              radius 0.09
            }
          }
        ]
        name "solid(2)"
        boundingObject USE flywheel_geom
        physics Physics {
          density -1
          mass 1
          centerOfMass [
            0 0 0
          ]
          inertiaMatrix [
            0.0019215666002914134 0.0038349519697141034 0.0019215666002914134
            0 0 0
          ]
        }
      }
    }
    Shape {
      appearance MetalPipePaint {
      }
      geometry DEF body_geometry Box {
        size 0.1 0.1 0.2
      }
    }
    DEF wheel HingeJoint {
      jointParameters HingeJointParameters {
        anchor 0 0 -0.22
      }
      device [
        RotationalMotor {
          name "wheel"
          maxVelocity 50
        }
      ]
      endPoint Solid {
        translation 0 0 -0.22
        rotation 1 0 0 0
        children [
          Shape {
            appearance DryMud {
            }
            geometry DEF wheele_geom Sphere {
              radius 0.05
              subdivision 4
            }
          }
        ]
        name "solid(1)"
        boundingObject USE wheele_geom
        physics Physics {
          density -1
          mass 0.5235987755982989
          centerOfMass [
            0 0 0
          ]
          inertiaMatrix [
            0.000523598775598299 0.000523598775598299 0.000523598775598299
            0 0 0
          ]
        }
      }
    }
    InertialUnit {
      rotation 1 0 0 1.5708
      name "IMU"
    }
    DEF MOMENT_WHEEL HingeJoint {
      jointParameters HingeJointParameters {
        axis 0 1 0
        anchor 0 0 0.25
      }
      device [
        RotationalMotor {
          name "arm motor"
          maxVelocity 1000
          maxTorque 100
        }
      ]
      endPoint Solid {
        translation 0 0 0.25
        children [
          Solid {
            translation 0.11 0 0
            children [
              Shape {
                appearance BrushedSteel {
                }
                geometry DEF small_weight_geom Cylinder {
                  height 0.025
                  radius 0.01
                }
              }
            ]
            boundingObject USE small_weight_geom
            physics Physics {
              density -1
              mass 5
              centerOfMass [
                0 0 0
              ]
              inertiaMatrix [
                6.054110842855331e-07 3.926990816987242e-07 6.054110842855331e-07
                0 0 0
              ]
            }
          }
          Solid {
            translation -0.11 0 0
            children [
              Shape {
                appearance BrushedSteel {
                }
                geometry DEF small_weight_geom Cylinder {
                  height 0.025
                  radius 0.01
                }
              }
            ]
            name "solid(1)"
            boundingObject USE small_weight_geom
            physics Physics {
              density -1
              mass 5
              centerOfMass [
                0 0 0
              ]
              inertiaMatrix [
                6.054110842855331e-07 3.926990816987242e-07 6.054110842855331e-07
                0 0 0
              ]
            }
          }
          Solid {
            translation 0 0 0.11
            children [
              Shape {
                appearance BrushedSteel {
                }
                geometry DEF small_weight_geom Cylinder {
                  height 0.025
                  radius 0.01
                }
              }
            ]
            name "solid(2)"
            boundingObject USE small_weight_geom
            physics Physics {
              density -1
              mass 5
              centerOfMass [
                0 0 0
              ]
              inertiaMatrix [
                6.054110842855331e-07 3.926990816987242e-07 6.054110842855331e-07
                0 0 0
              ]
            }
          }
          Solid {
            translation 0 0 -0.11
            children [
              Shape {
                appearance BrushedSteel {
                }
                geometry DEF small_weight_geom Cylinder {
                  height 0.025
                  radius 0.01
                }
              }
            ]
            name "solid(3)"
            boundingObject USE small_weight_geom
            physics Physics {
              density -1
              mass 5
              centerOfMass [
                0 0 0
              ]
              inertiaMatrix [
                6.054110842855331e-07 3.926990816987242e-07 6.054110842855331e-07
                0 0 0
              ]
            }
          }
          Shape {
            appearance ScrewThread {
            }
            geometry DEF flywheel_geom Cylinder {
              height 0.01
              radius 0.09
            }
          }
        ]
        boundingObject USE flywheel_geom
        physics Physics {
          density -1
          mass 1
          centerOfMass [
            0 0 0
          ]
          inertiaMatrix [
            0.0019215666002914134 0.0038349519697141034 0.0019215666002914134
            0 0 0
          ]
        }
      }
    }
  ]
  boundingObject USE body_geometry
  physics Physics {
    density -1
    mass 1
    centerOfMass [
      0 0 0
    ]
    inertiaMatrix [
      0.008333333333333337 0.008333333333333337 0.003333333333333335
      0 0 0
    ]
  }
  controller "cntrIP"
}
