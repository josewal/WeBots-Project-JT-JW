#VRML_SIM R2020b utf8
WorldInfo {
  info [
    "Thanks to Mehdi Ghanavati, Shahid Chamran University"
  ]
  title "Omni-wheels"
  basicTimeStep 8
  coordinateSystem "NUE"
  contactProperties [
    ContactProperties {
      softCFM 0.0001
    }
  ]
}
Viewpoint {
  orientation -0.058588243386348826 -0.9797234251552286 -0.19159704574708103 2.5594341677886545
  position -1.3331867156427173 1.2804784740687027 -1.868587174357993
  follow "robot"
}
TexturedBackground {
}
TexturedBackgroundLight {
}
RectangleArena {
  floorSize 50 50
}
Robot {
  translation 0 0.28 0
  rotation 1 0 0 -1.5707953071795862
  children [
    DEF MOMENT_WHEEL HingeJoint {
      jointParameters HingeJointParameters {
        axis 0 0 1
        anchor 0 0 0.11
      }
      device [
        RotationalMotor {
          name "yaw motor"
          maxVelocity 1000
          maxTorque 100
        }
      ]
      endPoint Solid {
        translation 0 0 0.11
        rotation 1 -1.5700895750559031e-16 7.850447875279516e-17 1.5707999999999998
        children [
          Solid {
            translation 0.11 0 0
            children [
              Shape {
                appearance BrushedSteel {
                }
                geometry DEF small_weight_geom Cylinder {
                  height 0.025
                  radius 0.01
                }
              }
            ]
            boundingObject USE small_weight_geom
            physics Physics {
              density -1
              mass 5
              centerOfMass [
                0 0 0
              ]
              inertiaMatrix [
                6.054110842855331e-07 3.926990816987242e-07 6.054110842855331e-07
                0 0 0
              ]
            }
          }
          Solid {
            translation -0.11 0 0
            children [
              Shape {
                appearance BrushedSteel {
                }
                geometry DEF small_weight_geom Cylinder {
                  height 0.025
                  radius 0.01
                }
              }
            ]
            name "solid(1)"
            boundingObject USE small_weight_geom
            physics Physics {
              density -1
              mass 5
              centerOfMass [
                0 0 0
              ]
              inertiaMatrix [
                6.054110842855331e-07 3.926990816987242e-07 6.054110842855331e-07
                0 0 0
              ]
            }
          }
          Solid {
            translation 0 0 0.11
            children [
              Shape {
                appearance BrushedSteel {
                }
                geometry DEF small_weight_geom Cylinder {
                  height 0.025
                  radius 0.01
                }
              }
            ]
            name "solid(2)"
            boundingObject USE small_weight_geom
            physics Physics {
              density -1
              mass 5
              centerOfMass [
                0 0 0
              ]
              inertiaMatrix [
                6.054110842855331e-07 3.926990816987242e-07 6.054110842855331e-07
                0 0 0
              ]
            }
          }
          Solid {
            translation 0 0 -0.11
            children [
              Shape {
                appearance BrushedSteel {
                }
                geometry DEF small_weight_geom Cylinder {
                  height 0.025
                  radius 0.01
                }
              }
            ]
            name "solid(3)"
            boundingObject USE small_weight_geom
            physics Physics {
              density -1
              mass 5
              centerOfMass [
                0 0 0
              ]
              inertiaMatrix [
                6.054110842855331e-07 3.926990816987242e-07 6.054110842855331e-07
                0 0 0
              ]
            }
          }
          Shape {
            appearance ScrewThread {
            }
            geometry DEF flywheel_geom Cylinder {
              height 0.01
              radius 0.09
            }
          }
        ]
        name "solid(2)"
        boundingObject USE flywheel_geom
        physics Physics {
          density -1
          mass 1
          centerOfMass [
            0 0 0
          ]
          inertiaMatrix [
            0.0019215666002914134 0.0038349519697141034 0.0019215666002914134
            0 0 0
          ]
        }
      }
    }
    Shape {
      appearance MetalPipePaint {
      }
      geometry DEF body_geometry Box {
        size 0.1 0.1 0.2
      }
    }
    DEF wheel HingeJoint {
      jointParameters HingeJointParameters {
        anchor 0 0 -0.22
      }
      device [
        RotationalMotor {
          name "wheel"
          maxVelocity 50
        }
      ]
      endPoint Solid {
        translation 0 -2.1255444778399413e-17 -0.219955
        rotation 1 0 0 0
        children [
          Shape {
            appearance DryMud {
            }
            geometry DEF wheele_geom Sphere {
              radius 0.05
              subdivision 4
            }
          }
        ]
        name "solid(1)"
        boundingObject USE wheele_geom
        physics Physics {
          density -1
          mass 0.5235987755982989
          centerOfMass [
            0 0 0
          ]
          inertiaMatrix [
            0.000523598775598299 0.000523598775598299 0.000523598775598299
            0 0 0
          ]
        }
      }
    }
    InertialUnit {
      rotation 1 0 0 1.5708
      name "IMU"
    }
    DEF MOMENT_WHEEL HingeJoint {
      jointParameters HingeJointParameters {
        axis 0 1 0
        anchor 0 0 0.25
      }
      device [
        RotationalMotor {
          name "arm motor"
          maxVelocity 1000
          maxTorque 100
        }
      ]
      endPoint Solid {
        translation 0 0 0.25
        children [
          Solid {
            translation 0.11 0 0
            children [
              Shape {
                appearance BrushedSteel {
                }
                geometry DEF small_weight_geom Cylinder {
                  height 0.025
                  radius 0.01
                }
              }
            ]
            boundingObject USE small_weight_geom
            physics Physics {
              density -1
              mass 5
              centerOfMass [
                0 0 0
              ]
              inertiaMatrix [
                6.054110842855331e-07 3.926990816987242e-07 6.054110842855331e-07
                0 0 0
              ]
            }
          }
          Solid {
            translation -0.11 0 0
            children [
              Shape {
                appearance BrushedSteel {
                }
                geometry DEF small_weight_geom Cylinder {
                  height 0.025
                  radius 0.01
                }
              }
            ]
            name "solid(1)"
            boundingObject USE small_weight_geom
            physics Physics {
              density -1
              mass 5
              centerOfMass [
                0 0 0
              ]
              inertiaMatrix [
                6.054110842855331e-07 3.926990816987242e-07 6.054110842855331e-07
                0 0 0
              ]
            }
          }
          Solid {
            translation 0 0 0.11
            children [
              Shape {
                appearance BrushedSteel {
                }
                geometry DEF small_weight_geom Cylinder {
                  height 0.025
                  radius 0.01
                }
              }
            ]
            name "solid(2)"
            boundingObject USE small_weight_geom
            physics Physics {
              density -1
              mass 5
              centerOfMass [
                0 0 0
              ]
              inertiaMatrix [
                6.054110842855331e-07 3.926990816987242e-07 6.054110842855331e-07
                0 0 0
              ]
            }
          }
          Solid {
            translation 0 0 -0.11
            children [
              Shape {
                appearance BrushedSteel {
                }
                geometry DEF small_weight_geom Cylinder {
                  height 0.025
                  radius 0.01
                }
              }
            ]
            name "solid(3)"
            boundingObject USE small_weight_geom
            physics Physics {
              density -1
              mass 5
              centerOfMass [
                0 0 0
              ]
              inertiaMatrix [
                6.054110842855331e-07 3.926990816987242e-07 6.054110842855331e-07
                0 0 0
              ]
            }
          }
          Shape {
            appearance ScrewThread {
            }
            geometry DEF flywheel_geom Cylinder {
              height 0.01
              radius 0.09
            }
          }
        ]
        boundingObject USE flywheel_geom
        physics Physics {
          density -1
          mass 1
          centerOfMass [
            0 0 0
          ]
          inertiaMatrix [
            0.0019215666002914134 0.0038349519697141034 0.0019215666002914134
            0 0 0
          ]
        }
      }
    }
  ]
  boundingObject USE body_geometry
  physics Physics {
    density -1
    mass 1
    centerOfMass [
      0 0 0
    ]
    inertiaMatrix [
      0.008333333333333337 0.008333333333333337 0.003333333333333335
      0 0 0
    ]
  }
  controller "cntrIP"
}
